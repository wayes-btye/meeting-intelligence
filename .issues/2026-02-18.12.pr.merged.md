# [\#12 PR](https://github.com/wayes-btye/meeting-intelligence/pull/12) `merged`: feat: ingestion pipeline — parsers, chunking, embedding, storage

#### <img src="https://avatars.githubusercontent.com/u/151667361?v=4" width="50">[wayes-btye](https://github.com/wayes-btye) opened issue at [2026-02-18 16:59](https://github.com/wayes-btye/meeting-intelligence/pull/12):

## Summary
- **Parsers**: VTT (regex-based, multi-line cues), plain text (speaker label extraction), JSON (AssemblyAI + MeetingBank formats)
- **Chunking**: Naive (fixed-size with overlap, configurable token count) and speaker-turn (groups consecutive same-speaker segments, splits long turns)
- **Embedding**: OpenAI text-embedding-3-small integration with batch support
- **Storage**: Supabase helpers for meetings and chunks (batched insert of 50)
- **Pipeline**: End-to-end `ingest_transcript()` — parse, chunk, embed, store
- **22 tests** covering all parsers and both chunking strategies
- **Test fixture**: sample.vtt with 8-segment council meeting transcript

## Files
- `src/ingestion/models.py` — TranscriptSegment + Chunk dataclasses
- `src/ingestion/parsers.py` — 3 parsers + dispatcher
- `src/ingestion/chunking.py` — naive_chunk + speaker_turn_chunk
- `src/ingestion/embeddings.py` — OpenAI embedding wrapper
- `src/ingestion/storage.py` — Supabase client + store functions
- `src/ingestion/pipeline.py` — end-to-end orchestrator
- `tests/test_ingestion.py` — 22 tests
- `tests/fixtures/sample.vtt` — test data

## Test plan
- [x] `pytest tests/test_ingestion.py -v` — 22/22 passed
- [x] `ruff check` — clean
- [x] `ruff format --check` — formatted
- [ ] Integration: embed + store requires API keys (tested manually or in Issue #3)

Closes #2




-------------------------------------------------------------------------------



[Export of Github issue for [wayes-btye/meeting-intelligence](https://github.com/wayes-btye/meeting-intelligence). Generated on 2026.02.20 at 04:16:27.]
