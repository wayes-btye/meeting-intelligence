# [\#32 Issue](https://github.com/wayes-btye/meeting-intelligence/issues/32) `closed`: feat: React/Next.js frontend to replace Streamlit for demo

#### <img src="https://avatars.githubusercontent.com/u/151667361?v=4" width="50">[wayes-btye](https://github.com/wayes-btye) opened issue at [2026-02-20 00:28](https://github.com/wayes-btye/meeting-intelligence/issues/32):

## Goal

Replace Streamlit as the public-facing demo UI with a React/Next.js frontend. Streamlit is retained as a dev/debug tool.

## Why

- Streamlit reruns the entire script on each interaction — session state is fragile
- Not suitable for concurrent users or a polished demo
- React on Vercel is zero-config deployment, looks professional
- The FastAPI backend already has clean separation — zero API changes needed

## Scope

**New directory:** `/frontend/` (separate from `/src/`)

**Pages/views:**
- Upload page: drag-drop transcript upload, progress feedback, immediate extraction results display
- Chat page: question input, answer display with source citation cards
- Meetings browser: paginated list, click to see meeting detail and extracted items
- Strategy panel: sidebar toggle for chunking/retrieval strategy

**FastAPI changes (minimal):**
- Add CORS middleware (allow Vercel domain + localhost:3000)
- No endpoint changes

**Tech stack suggestion:** Next.js 14 + shadcn/ui + Tailwind CSS
- Vercel-native deployment
- shadcn gives a polished default look with minimal CSS work
- File upload via standard `multipart/form-data` to `/ingest`

## Acceptance Criteria

- **1.** Upload a `.vtt` transcript, see immediate extraction results (action items, decisions)
- **2.** Ask a question in chat, see answer with source citations
- **3.** Browse meetings list and click to see meeting detail
- **4.** Strategy selector works (sends strategy params in query body)
- **5.** Deployable to Vercel with `vercel deploy`
- **6.** Streamlit still works for local dev (`make streamlit` unchanged)

## Related

- Issue #31 (cloud deployment) — depends on this for frontend deploy
- Issue #35 (Gemini visual summary) — upload page should display visual summary once #35 is done
- PRD: F65

#### <img src="https://avatars.githubusercontent.com/u/151667361?v=4" width="50">[wayes-btye](https://github.com/wayes-btye) commented at [2026-02-20 12:30](https://github.com/wayes-btye/meeting-intelligence/issues/32#issuecomment-3933976281):

## Implementation notes — #32 React frontend (PR #38)

PR: https://github.com/wayes-btye/meeting-intelligence/pull/38

---

### Issues & challenges encountered during build

**1. API route prefix — wt5 spec had wrong paths**
The context doc showed `/meetings`, `/ingest`, `/query`. Actual routes are all under `/api/` prefix. Discovered via browser console CORS errors after the API was live. Fixed in `lib/api.ts` by hitting `/openapi.json` and reading the actual schema.

**2. API schema mismatches vs. spec**
All discovered by live testing against the running API:
- `IngestResponse.chunks_created` → actually `num_chunks`
- `Meeting.speaker_count` → actually `num_speakers`
- `QueryRequest` takes a single `strategy: "semantic"|"hybrid"` field — the spec implied separate `chunking_strategy` + `retrieval_strategy` params
- `MeetingDetail.extracted_items` is a flat `ExtractedItem[]` with `item_type` discriminator, not a nested `{action_items, decisions, topics}` object
- `ExtractResponse` does have `{action_items, decisions, topics}` but as `ExtractedItem[]` arrays

**3. Stale uvicorn holding port 8000 without CORS**
A uvicorn from a prior Claude Code session remained bound to port 8000 without the CORS middleware. The new uvicorn couldn't evict it on Windows (SO_REUSEADDR lets multiple processes bind). Browser always hit the stale one. Workaround: API on port 8002. **To fix locally: `taskkill /F /PID 22032` in CMD, then restart uvicorn on 8000 and update `.env.local`.**

**4. `.next` cache corruption after mid-compile kill**
Killing the dev server during compilation left `.next` with missing chunks. Fixed with `rm -rf frontend/.next` + clean restart.

**5. `https://*.vercel.app` CORS wildcard**
Starlette's CORSMiddleware doesn't support wildcard subdomains — it does exact string matching only. The wildcard entry is inert (no origin ever equals the literal string). Once the real Vercel URL is known, replace with e.g. `https://meeting-intelligence.vercel.app`. For now, localhost:3000 and localhost:8501 work correctly.

---

### Risk items for review

- `strategy-selector.tsx` component exists but is unused — both pages have inline radio buttons. Safe to delete in cleanup.
- `frontend/.env.local` has `http://localhost:8002` (workaround). Should be `8000` after stale process is killed.
- Vercel deployment requires Issue #31 (Cloud Run) to be done first.


-------------------------------------------------------------------------------



[Export of Github issue for [wayes-btye/meeting-intelligence](https://github.com/wayes-btye/meeting-intelligence). Generated on 2026.02.21 at 04:07:53.]
