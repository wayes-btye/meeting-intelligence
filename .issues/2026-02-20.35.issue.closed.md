# [\#35 Issue](https://github.com/wayes-btye/meeting-intelligence/issues/35) `closed`: feat: upload-time visual summary via Gemini (immediate extraction + visual before RAG completes)

#### <img src="https://avatars.githubusercontent.com/u/151667361?v=4" width="50">[wayes-btye](https://github.com/wayes-btye) opened issue at [2026-02-20 00:29](https://github.com/wayes-btye/meeting-intelligence/issues/35):

## Goal

When a transcript is uploaded, immediately show the user a structured visual summary of the meeting — before the RAG ingestion pipeline finishes. Two value propositions from one upload action.

## The Flow

**Step 1 (< 2 seconds): Immediate extraction**
- Run `POST /meetings/{id}/extract` synchronously (this already exists)
- Display: action items list, decisions list, key topics, speaker list

**Step 2 (< 5 seconds): Visual summary via Gemini**
- Pass transcript + extracted metadata to Gemini API
- Generate: speaker participation breakdown (who spoke, how much), topic timeline (what was discussed when), key moment markers (decisions, actions)
- Display in UI alongside extracted items

**Step 3 (background): RAG ingestion**
- Chunking, embedding, vector storage continues in the background
- User is notified when the meeting is "ready to query"
- Progress indicator in UI

## Why Gemini for visuals

Gemini's multimodal generation capabilities make it straightforward to produce rich structured output + visual descriptions. For a demo, seeing a visual summary of a meeting immediately after upload is impressive and demonstrates multi-model orchestration.

## Implementation Notes

**New API endpoint:**
- `POST /meetings/{id}/visual-summary` — calls Gemini, returns structured visual data (speaker time %, topic list with timestamps, etc.)
- Or: extend `/extract` response to include visual summary data

**Gemini API:**
- Requires `GEMINI_API_KEY` in `.env`
- Use `gemini-1.5-flash` for speed
- Prompt: structured JSON output for speaker breakdown + topic timeline

**UI:**
- Upload completes → immediately show action items + decisions (from existing extract)
- Gemini summary loads within 3-5 seconds
- Background ingestion indicator → "Ready to query" notification

## Acceptance Criteria

- **1.** Upload a transcript → see extracted items within 2 seconds
- **2.** See visual summary (speaker breakdown, topic timeline) within 5 seconds
- **3.** "Ready to query" notification appears when RAG ingestion completes
- **4.** `GEMINI_API_KEY` documented in `.env.example`
- **5.** Gemini call is optional — graceful degradation if key not present

## Related

- Issue #32 (React frontend) — the upload page is where this lives
- PRD: F64

#### <img src="https://avatars.githubusercontent.com/u/151667361?v=4" width="50">[wayes-btye](https://github.com/wayes-btye) commented at [2026-02-21 18:41](https://github.com/wayes-btye/meeting-intelligence/issues/35#issuecomment-3939226377):

Implementation complete on branch `feat/35-gemini-visual-summary`.

**Backend:**
- `POST /api/meetings/{id}/visual-summary` — Gemini 2.0 Flash generates speaker breakdown, topic timeline, key moments
- Uses `settings.google_api_key` (`GOOGLE_API_KEY` env var)
- Returns 501 if key not configured; 404 if meeting not found; 502 if Gemini returns malformed JSON

**Frontend:**
- `api.visualSummary()` helper with graceful null return on failure
- `VisualSummaryData` TypeScript interface exported from `lib/api.ts`
- Upload page shows visual summary card after ingest (silently skips if 501)

**Checks:**
- 116 tests passing, ruff clean, mypy clean (no new errors), npm build clean
- New test: `test_visual_summary_returns_501_without_key`

PR open for review: https://github.com/wayes-btye/meeting-intelligence/pull/57

Worktree at `C:\meeting-intelligence-wt9-issue-35` intact for manual testing.

**To test manually:** Add `GOOGLE_API_KEY` to `.env` in the worktree, start API with `PORT=8090 make api`, upload a transcript.

#### <img src="https://avatars.githubusercontent.com/u/151667361?v=4" width="50">[wayes-btye](https://github.com/wayes-btye) commented at [2026-02-23 04:30](https://github.com/wayes-btye/meeting-intelligence/issues/35#issuecomment-3942539261):

Closing this issue. The implementation in PR #57 was rejected — it misunderstood the requirement. What was built: Gemini-based text extraction of speaker stats/key moments (redundant with Claude's existing extraction). What was wanted: on-demand actual image generation (PNG/SVG visual representation of the meeting). Will be re-raised as a new issue with the correct spec.


-------------------------------------------------------------------------------



[Export of Github issue for [wayes-btye/meeting-intelligence](https://github.com/wayes-btye/meeting-intelligence). Generated on 2026.02.24 at 04:20:21.]
