# [\#39 Issue](https://github.com/wayes-btye/meeting-intelligence/issues/39) `open`: MANUAL-TASKS: actions required before and after Wave 1 merges
**Labels**: `MANUAL-TASKS`


#### <img src="https://avatars.githubusercontent.com/u/151667361?v=4" width="50">[wayes-btye](https://github.com/wayes-btye) opened issue at [2026-02-20 18:23](https://github.com/wayes-btye/meeting-intelligence/issues/39):

Manual actions that cannot be done by Claude Code. Work through these in order.

---

## After Wave 1 PRs merge (PRs #36, #37, #38)

### **1. Clear stale uvicorn process on port 8000** (local dev only)

A stale uvicorn process from a previous session may be bound to port 8000 without CORS headers (found during WT5 React build). Without clearing it, the React frontend on localhost:3000 will get CORS errors when calling the API.

In CMD (not PowerShell):
```
taskkill /F /PID <PID>
```
To find the PID:
```
netstat -ano | findstr :8000
```
Or simply restart your machine ‚Äî the process won't survive a reboot.

---

### **2. Update `frontend/.env.local` to correct port**

After clearing the stale process, ensure `frontend/.env.local` points to the right port:
```
NEXT_PUBLIC_API_URL=http://localhost:8000
```
This file is gitignored ‚Äî it lives only on your machine.

---

### **3. Visual verification of the React frontend** (PR #38)

Before treating the frontend as demo-ready, manually verify all three pages work end-to-end:

**1.** Start API: `uvicorn src.api.main:app --reload --port 8000` (from repo root)
**2.** Start frontend: `cd frontend && npm run dev`
**3.** Visit `http://localhost:3000`
**4.** Verify: green API status dot in top-right corner
**5.** Upload a `.vtt` file ‚Üí confirm extraction results appear (action items, decisions, topics)
**6.** `/chat` ‚Üí ask "What decisions were made about the budget?" ‚Üí confirm answer + source citations rendered
**7.** `/meetings` ‚Üí confirm 30+ meetings listed ‚Üí click a row ‚Üí confirm detail panel shows extracted items
**8.** Upload page strategy selector ‚Üí confirm chunking strategy toggles between naive/speaker_turn

---

### **4. Manual audio transcription test** (PR #36)

The automated test mocks AssemblyAI (correct). To verify the real transcription path works end-to-end:

**1.** Start API: `make api`
**2.** Upload a real audio file:
```bash
curl -X POST http://localhost:8000/api/ingest \
  -F "file=@path/to/your/audio.mp3" \
  -F "title=My Audio Meeting"
```
**3.** Verify response: `200` with `meeting_id` and `num_chunks > 0`
**4.** Verify meeting appears in `GET http://localhost:8000/api/meetings` with real transcript content

---

### **5. Run integration tests** (PR #37)

The expensive integration tests cannot run in CI. Run manually to verify full pipeline:
```bash
pytest -m expensive tests/test_pipeline_integration.py -v
```
Requires all API keys in `.env`: `OPENAI_API_KEY`, `SUPABASE_URL`, `SUPABASE_KEY`, `ANTHROPIC_API_KEY`.

---

### **6. Clean up old merged worktree** (housekeeping)

The `meeting-intelligence-pr27` worktree and its branch were merged in PR #27 but never removed.

In your terminal:
```bash
git worktree remove /c/meeting-intelligence-pr27
git branch -d fix/storage-settings
```

---

## Future manual tasks (not urgent now)

### **7. Vercel deployment** (depends on Issue #31 ‚Äî Cloud Run first)

**1.** vercel.com ‚Üí New Project ‚Üí Import `wayes-btye/meeting-intelligence`
**2.** Root Directory: `frontend`
**3.** Add environment variable: `NEXT_PUBLIC_API_URL=<Cloud Run API URL>`
**4.** Deploy
**5.** Once Vercel URL is known, add it to `allow_origins` in `src/api/main.py` and redeploy API

### **8. Google Cloud Run setup** (Issue #31)

Requires:
- GCP project with Cloud Run API enabled
- Artifact Registry repository for Docker images
- Service account with Cloud Run invoker permissions
- Service account key added to GitHub Secrets as `GCP_SA_KEY`
- `GCP_PROJECT_ID` and `GCP_REGION` added to GitHub Secrets

Claude Code can write the `deploy.yml` workflow once you have these set up.

---

*This issue can be closed once all tasks above are confirmed done.*

#### <img src="https://avatars.githubusercontent.com/u/151667361?v=4" width="50">[wayes-btye](https://github.com/wayes-btye) commented at [2026-02-20 19:34](https://github.com/wayes-btye/meeting-intelligence/issues/39#issuecomment-3936718691):

## Progress Update ‚Äî 2026-02-20

### ‚úÖ Already done (no manual action needed)

**GitHub Secrets** ‚Äî Both `CLAUDE_CODE_OAUTH_TOKEN` and `GH2MD_TOKEN` are confirmed working:
- Claude auto-review is running on every PR (visible in PR #36, #37, #38 review comments)
- Nightly `.issues/` export is running (confirmed by `.issues/` directory content)
- CI workflow is running on every push (latest run: `22236231594`)

These two items can be crossed off the list.

---

### ‚úÖ Worktree directory cleanup

The git worktree references are already removed. The physical directories (`C:\meeting-intelligence-wt1-issue-22`, `wt3-issue-23`, `wt5-issue-32`) are just regular folders on disk ‚Äî git no longer tracks them.

**To delete them:** Open File Explorer ‚Üí navigate to `C:\` ‚Üí delete the three folders manually. That is all that is needed. There is no git state inside them that needs to be preserved.

---

### üîÅ Integration tests (expensive) ‚Äî PASSED

Ran `pytest -m expensive tests/test_pipeline_integration.py -v` against live API + Supabase:
- `test_full_ingest_and_query_pipeline` ‚úÖ PASSED (44s)
- `test_ingest_stores_chunks_in_supabase` ‚úÖ PASSED
- `test_query_without_relevant_meeting_returns_graceful_response` ‚úÖ PASSED

All 3/3 passed. Test data was cleaned up from Supabase automatically.

---

### ‚ö†Ô∏è Known issue discovered during UI testing

**Extract endpoint returns 529 ‚Üí 500 with no CORS headers**

When the Anthropic API is temporarily overloaded (HTTP 529), the extraction endpoint crashes with an unhandled `OverloadedError`. FastAPI's default 500 handler doesn't add CORS headers, so the browser shows `net::ERR_FAILED` (misleadingly reported as a CORS error).

- Root cause: `OverloadedError` not caught in `src/extraction/extractor.py` and `src/retrieval/generation.py`
- Workaround: retry the extract call when the API recovers
- Fix: add try/except in both files to return HTTP 503 (tracked in Issue #30-adjacent, or new issue)

This is a transient API condition ‚Äî not a code architecture bug. The extraction itself works correctly when the Claude API is not overloaded (confirmed via curl).


-------------------------------------------------------------------------------



[Export of Github issue for [wayes-btye/meeting-intelligence](https://github.com/wayes-btye/meeting-intelligence). Generated on 2026.02.28 at 03:55:48.]
