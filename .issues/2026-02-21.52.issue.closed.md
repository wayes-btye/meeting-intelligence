# [\#52 Issue](https://github.com/wayes-btye/meeting-intelligence/issues/52) `closed`: feat: email/password login — protect frontend with Supabase Auth
**Labels**: `enhancement`, `ui`


#### <img src="https://avatars.githubusercontent.com/u/151667361?v=4" width="50">[wayes-btye](https://github.com/wayes-btye) opened issue at [2026-02-21 08:29](https://github.com/wayes-btye/meeting-intelligence/issues/52):

## Goal

Add a login page to the React frontend so the app isn't open to anyone who has the URL. The assessor is given an email + password and logs in before using the app. No self-registration — accounts are created manually in the Supabase dashboard.

## Why Supabase Auth (not a custom solution)

Supabase is already in the stack. It ships built-in email/password auth with no extra dependencies, no extra cost, and no backend changes needed. The frontend handles auth entirely through `@supabase/supabase-js` (anon key, client-side only).

## What to build

### 1. Install Supabase JS client in the frontend
\`\`\`bash
cd frontend && npm install @supabase/supabase-js
\`\`\`

### 2. Create `frontend/lib/supabase.ts`
\`\`\`typescript
import { createClient } from '@supabase/supabase-js'

export const supabase = createClient(
  process.env.NEXT_PUBLIC_SUPABASE_URL!,
  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
)
\`\`\`

### 3. Add env vars to `frontend/.env.local` (and Vercel dashboard)
\`\`\`
NEXT_PUBLIC_SUPABASE_URL=https://qjmswgbkctaazcyhinew.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=<anon key from Supabase dashboard>
\`\`\`

### 4. Create `frontend/app/login/page.tsx`
Simple email + password form. On submit:
\`\`\`typescript
const { error } = await supabase.auth.signInWithPassword({ email, password })
if (!error) router.push('/')
\`\`\`
Show an error message on wrong credentials. No "forgot password", no "sign up" link — just the login form.

### 5. Protect all pages with a session check

In `frontend/app/layout.tsx` (or a middleware file `frontend/middleware.ts`):
\`\`\`typescript
// middleware.ts — runs on every request
import { createMiddlewareClient } from '@supabase/auth-helpers-nextjs'
import { NextResponse } from 'next/server'

export async function middleware(req) {
  const res = NextResponse.next()
  const supabase = createMiddlewareClient({ req, res })
  const { data: { session } } = await supabase.auth.getSession()
  if (!session && !req.nextUrl.pathname.startsWith('/login')) {
    return NextResponse.redirect(new URL('/login', req.url))
  }
  return res
}

export const config = { matcher: ['/((?!_next/static|_next/image|favicon.ico).*)'] }
\`\`\`

### 6. Add a logout button to the nav

\`\`\`typescript
await supabase.auth.signOut()
router.push('/login')
\`\`\`

## How to create users (manual — no code needed)

1. Go to [Supabase Dashboard](https://supabase.com/dashboard/project/qjmswgbkctaazcyhinew/auth/users)
2. Click **Add user → Create new user**
3. Enter email + password
4. Share credentials with the assessor

No migrations needed. No RLS changes needed. The FastAPI backend uses the service key and is unaffected.

## Env vars to add in Vercel dashboard after deploying

| Key | Value |
|-----|-------|
| `NEXT_PUBLIC_SUPABASE_URL` | `https://qjmswgbkctaazcyhinew.supabase.co` |
| `NEXT_PUBLIC_SUPABASE_ANON_KEY` | (from Supabase dashboard → Project Settings → API) |

## Test plan
- [ ] Unauthenticated visit to `/` redirects to `/login`
- [ ] Wrong credentials shows error message
- [ ] Correct credentials redirects to Upload page
- [ ] Logout button returns to login page
- [ ] `npm run build` passes
- [ ] Works on Vercel (env vars set in dashboard)

## Effort
Small — login page (~40 lines) + middleware (~20 lines) + one npm install. No backend changes.

**Do before the assessment.**

#### <img src="https://avatars.githubusercontent.com/u/151667361?v=4" width="50">[wayes-btye](https://github.com/wayes-btye) commented at [2026-02-21 09:49](https://github.com/wayes-btye/meeting-intelligence/issues/52#issuecomment-3938529808):

Implementation complete on branch \`feat/52-supabase-auth\`.

**What was done:**
- `/login` page with email/password form
- Next.js middleware protecting all routes — unauthenticated users redirected to `/login`
- Logout button in nav (`components/nav.tsx`)
- `frontend/lib/supabase.ts` browser client via `@supabase/ssr`
- `npm run build` passing cleanly
- 115 backend pytest tests still passing

**Manual steps still needed before this is live:**
- Add `NEXT_PUBLIC_SUPABASE_ANON_KEY` to `.env.local` and Vercel env vars (get from Supabase dashboard → Settings → API)
- Create test user in Supabase dashboard → Authentication → Users

PR: https://github.com/wayes-btye/meeting-intelligence/pull/55
Worktree at `C:\meeting-intelligence-wt10-issue-52` — ready for manual testing once the anon key is added.


-------------------------------------------------------------------------------



[Export of Github issue for [wayes-btye/meeting-intelligence](https://github.com/wayes-btye/meeting-intelligence). Generated on 2026.02.22 at 04:18:27.]
